CA:

openssl genrsa -out ca/ca.key 2048

openssl rsa -in ca/ca.key -pubout -pub ca/ca.pub

openssl req -x509 -new -days 365 -key ca/ca.key -out ca/ca.crt

Settings: Country Name = CN; State or Province Name = SiChuan; Locality Name = ChengDu; Organization Name=Certificate Authority;
Organizational Unit Name = IOT; Common Name = 192.168.10.135

Client:

openssl genrsa -out client/client.key 2048

openssl req -new -key ca/ca.key -out client/client.csr -subj "/C=CN/ST=SiChuan/L=ChengDu/O=Device Certificate/OU=IOT/CN=192.168.10.35"

openssl x509 -req -in client/client.csr -out client/client.crt -CAkey ca/ca.key -CA ca/ca.crt -days 365 -sha1 -extensions v3_req -CAcreateserial -CAserial client/client.srl

Server:

openssl genrsa -out server/server.key 2048

openssl req -new -key ca/ca.key -out server/server.csr -subj "/C=CN/ST=SiChuan/L=ChengDu/O=Project Certificate/OU=IOT/CN=192.168.10.37"

openssl x509 -req -in server/server.csr -out server/server.crt -CAkey ca/ca.key -CA ca/ca.crt -days 365 -sha1 -extensions v3_req -CAcreateserial -CAserial server/server.srl